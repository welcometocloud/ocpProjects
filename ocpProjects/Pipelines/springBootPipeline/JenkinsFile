pipeline {

    agent any

    stages {
        stage('git checkout') {
            steps {

                git 'https://github.com/devfile-samples/devfile-sample-java-springboot-basic.git'
            }
        }
        stage('OcpLogin') {
            steps {
                sh '''
                    oc login https://api.east-cluster.multicloudverse.com:6443 -u kubeadmin -p ByG4b-brDTX-zveor-mkkDp --insecure-skip-tls-verify
                    oc new-project adarsh-project
                '''
            }

        }
        stage('Deploy to OCP') {
            steps {
                sh '''
                oc new-app java-springboot-basic:latest https://github.com/devfile-samples/devfile-sample-java-springboot-basic.git#main 
                '''
            }
        }
    }
}